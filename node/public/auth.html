<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Authentication Key</title>
    <link rel="stylesheet" type="text/css" href="./auth.css">
</head>

<body>
    <div class="auth-form">
        <form action="/auth" method="POST">
            <input type="button" value="Get Authentication Key" onclick="buttonClicked();" id="auth">
            <input type="password" name="auth" placeholder="Authentication Key" required>
            <input type="submit">
        </form>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
    <script>
        var socket = io.connect('http://localhost:8000/auth');

        function buttonClicked() {
            socket.emit('clicked');
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text)
        }

        socket.on('buttonUpdate', function(data) {
            copyToClipboard(data);
            alert("Authentication Key Copied!");
        });
    </script>
</body>

</html>